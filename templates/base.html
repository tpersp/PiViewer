<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{% block title %}PiViewer{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="{{ theme }}-theme">

<!-- Top Navigation Bar -->
<nav class="top-nav">
  <!-- Viewer Controller -->
  <div class="nav-item">
    <a href="{{ url_for('main.index') }}"
       class="{% if request.endpoint == 'main.index' %}active{% endif %}">
      ğŸŒ Viewer Controller
    </a>
  </div>

  <!-- Display Settings (we'll anchor to #local-displays on index) -->
  <div class="nav-item">
    <a href="{{ url_for('main.index') }}#local-displays"
       class="{% if request.endpoint == 'main.index' %}active{% endif %}">
      âš™ï¸ Display Settings
    </a>
  </div>

  <!-- Media Management -->
  <div class="nav-item">
    <a href="{{ url_for('main.upload_media') }}"
       class="{% if request.endpoint == 'main.upload_media' %}active{% endif %}">
      ğŸ“· Media
    </a>
  </div>

  <!-- Spotify -->
  <div class="nav-item">
    <a href="{{ url_for('main.configure_spotify') }}"
       class="{% if request.endpoint == 'main.configure_spotify' %}active{% endif %}">
      ğŸ¶ Spotify
    </a>
  </div>

  <!-- Devices -->
  <div class="nav-item">
    <a href="{{ url_for('main.device_manager') }}"
       class="{% if request.endpoint == 'main.device_manager' or request.endpoint == 'main.remote_configure' %}active{% endif %}">
      ğŸ“± Devices
    </a>
  </div>

  <!-- Settings -->
  <div class="nav-item">
    <a href="{{ url_for('main.settings') }}"
       class="{% if request.endpoint == 'main.settings' %}active{% endif %}">
      ğŸ› ï¸ Settings
    </a>
  </div>

  <!-- Restart Viewer -->
  <div class="nav-item">
    <form action="{{ url_for('main.restart_viewer') }}" method="post">
      <button type="submit" style="background:transparent; color:inherit;">
        ğŸ”„ Restart Viewer
      </button>
    </form>
  </div>
</nav>

<main class="content">
  {% block content %}{% endblock %}
</main>

<script src="{{ url_for('static', filename='script.js') }}"></script>
{% block extra_scripts %}{% endblock %}
</body>
</html>
